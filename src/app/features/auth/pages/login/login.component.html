<div
  class="min-h-screen w-full font-serif relative overflow-hidden"
  style="background-color: #100820; color: #b4a2fd"
>
  <div class="fixed inset-0 pointer-events-none z-0">
    <div
      class="star large"
      style="top: 8%; left: 12%; animation-delay: 0s"
    ></div>
    <div
      class="star large"
      style="top: 15%; left: 88%; animation-delay: 1.2s"
    ></div>
    <div
      class="star large"
      style="top: 25%; left: 5%; animation-delay: 2.1s"
    ></div>
    <div
      class="star large"
      style="top: 35%; left: 85%; animation-delay: 1.8s"
    ></div>
    <div
      class="star large"
      style="top: 55%; left: 15%; animation-delay: 2.8s"
    ></div>
    <div
      class="star large"
      style="top: 75%; left: 90%; animation-delay: 1.5s"
    ></div>
    <div
      class="star large"
      style="top: 85%; left: 25%; animation-delay: 0.7s"
    ></div>
    <div
      class="star large"
      style="top: 95%; left: 78%; animation-delay: 2.3s"
    ></div>

    <div
      class="star medium"
      style="top: 12%; left: 45%; animation-delay: 0.8s"
    ></div>
    <div
      class="star medium"
      style="top: 18%; left: 65%; animation-delay: 2.2s"
    ></div>
    <div
      class="star medium"
      style="top: 28%; left: 32%; animation-delay: 1.1s"
    ></div>
    <div
      class="star medium"
      style="top: 38%; left: 72%; animation-delay: 3s"
    ></div>
    <div
      class="star medium"
      style="top: 48%; left: 28%; animation-delay: 0.5s"
    ></div>
    <div
      class="star medium"
      style="top: 58%; left: 68%; animation-delay: 2.5s"
    ></div>
    <div
      class="star medium"
      style="top: 68%; left: 35%; animation-delay: 1.9s"
    ></div>
    <div
      class="star medium"
      style="top: 78%; left: 82%; animation-delay: 2.7s"
    ></div>

    <div
      class="star small"
      style="top: 6%; left: 25%; animation-delay: 1.4s"
    ></div>
    <div
      class="star small"
      style="top: 22%; left: 78%; animation-delay: 2.9s"
    ></div>
    <div
      class="star small"
      style="top: 42%; left: 8%; animation-delay: 0.3s"
    ></div>
    <div
      class="star small"
      style="top: 52%; left: 92%; animation-delay: 1.7s"
    ></div>
    <div
      class="star small"
      style="top: 72%; left: 18%; animation-delay: 2.4s"
    ></div>
    <div
      class="star small"
      style="top: 82%; left: 95%; animation-delay: 0.9s"
    ></div>

    <div
      class="sparkle"
      style="top: 10%; left: 55%; animation-delay: 0.6s"
    ></div>
    <div
      class="sparkle"
      style="top: 20%; left: 15%; animation-delay: 1.8s"
    ></div>
    <div
      class="sparkle"
      style="top: 30%; left: 85%; animation-delay: 2.4s"
    ></div>
    <div
      class="sparkle"
      style="top: 50%; left: 45%; animation-delay: 1.2s"
    ></div>
    <div
      class="sparkle"
      style="top: 70%; left: 75%; animation-delay: 2.8s"
    ></div>
    <div
      class="sparkle"
      style="top: 90%; left: 35%; animation-delay: 0.4s"
    ></div>

    <div
      class="floating-sparkle"
      style="top: 25%; left: 20%; animation-delay: 1.5s"
    ></div>
    <div
      class="floating-sparkle"
      style="top: 45%; left: 80%; animation-delay: 2.1s"
    ></div>
    <div
      class="floating-sparkle"
      style="top: 65%; left: 60%; animation-delay: 0.8s"
    ></div>
    <div
      class="floating-sparkle"
      style="top: 85%; left: 40%; animation-delay: 2.6s"
    ></div>
  </div>

  <div class="fixed inset-0 pointer-events-none z-1">
    <div class="mystical-gradient"></div>
  </div>

  <div class="relative z-10 min-h-screen flex items-center justify-center p-4">
    <div class="absolute top-6 left-6 z-20">
      <button class="back-home-btn group" (click)="onBackToHome()">
        <i
          class="fas fa-arrow-left mr-2 transition-transform group-hover:-translate-x-1"
        ></i>
        <span class="hidden sm:inline">Volver al Inicio</span>
        <span class="sm:hidden">Inicio</span>
      </button>
    </div>

    <div class="login-container">
      <div class="login-header">
        <div class="login-icon-container">
          <div class="mystical-orb-wrapper">
            <i class="fas fa-gem mystical-orb-icon"></i>

            <div class="orb-inner-glow"></div>
            <div class="orb-outer-glow"></div>

            <div class="orb-particles">
              <div class="particle particle-1"></div>
              <div class="particle particle-2"></div>
              <div class="particle particle-3"></div>
            </div>
          </div>

          <div class="professional-sparkles">
            <i class="fas fa-sparkles sparkle-1"></i>
            <i class="fas fa-star sparkle-2"></i>
            <i class="fas fa-magic sparkle-3"></i>
          </div>
        </div>

        <h1 class="login-title">
          <span class="title-highlight">Bienvenido</span> de Vuelta
        </h1>
        <p class="login-subtitle">
          Accede a tu portal místico y continúa tu viaje espiritual
        </p>
      </div>

      <form class="login-form" (ngSubmit)="onSubmit()" #loginForm="ngForm">
        <div class="form-group">
          <label class="form-label" for="email">
            <i class="fas fa-at label-icon mystical-field-icon"></i>
            Correo Electrónico
          </label>
          <div class="input-container">
            <input
              id="email"
              name="email"
              type="email"
              class="form-input"
              [class.error]="emailError() && (emailTouched() || isSubmitted())"
              [class.loading]="isLoading()"
              placeholder="tu@email.com"
              [(ngModel)]="credentials().email"
              (blur)="onEmailBlur()"
              (input)="onEmailChange($event)"
              required
              email
              autocomplete="email"
            />
            <div class="input-border"></div>
            <div class="input-glow"></div>
          </div>
          <div
            class="error-message"
            *ngIf="emailError() && (emailTouched() || isSubmitted())"
          >
            <i class="fas fa-exclamation-triangle mr-2"></i>
            {{ emailError() }}
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" for="password">
            <i class="fas fa-key label-icon mystical-field-icon"></i>
            Contraseña
          </label>
          <div class="input-container">
            <input
              id="password"
              name="password"
              [type]="showPassword() ? 'text' : 'password'"
              class="form-input password-input"
              [class.error]="
                passwordError() && (passwordTouched() || isSubmitted())
              "
              [class.loading]="isLoading()"
              placeholder="••••••••"
              [(ngModel)]="credentials().password"
              (blur)="onPasswordBlur()"
              (input)="onPasswordChange($event)"
              required
              minlength="6"
              autocomplete="current-password"
            />
            <button
              type="button"
              class="password-toggle mystical-toggle"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="
                showPassword() ? 'Ocultar contraseña' : 'Mostrar contraseña'
              "
            >
              <i
                [class]="showPassword() ? 'fas fa-eye-slash' : 'fas fa-eye'"
              ></i>
            </button>
            <div class="input-border"></div>
            <div class="input-glow"></div>
          </div>
          <div
            class="error-message"
            *ngIf="passwordError() && (passwordTouched() || isSubmitted())"
          >
            <i class="fas fa-exclamation-triangle mr-2"></i>
            {{ passwordError() }}
          </div>
        </div>

        <div class="form-options">
          <label class="remember-checkbox mystical-checkbox">
            <input
              type="checkbox"
              [(ngModel)]="credentials().rememberMe"
              name="rememberMe"
            />
            <span class="checkmark mystical-checkmark">
              <i class="fas fa-check"></i>
            </span>
            <span class="remember-text">Recordar sesión</span>
          </label>

          <button
            type="button"
            class="forgot-password-link mystical-link"
            (click)="onForgotPassword()"
          >
            <i class="fas fa-question-circle mr-1"></i>
            ¿Olvidaste tu contraseña?
          </button>
        </div>

        <button
          type="submit"
          class="login-submit-btn mystical-submit-btn"
          [disabled]="isLoading() || !isFormValid()"
          [class.loading]="isLoading()"
        >
          <span class="btn-content" *ngIf="!isLoading()">
            <i class="fas fa-door-open mr-2 btn-icon"></i>
            Iniciar Sesión
            <i class="fas fa-arrow-right ml-2 btn-arrow"></i>
          </span>
          <span class="btn-loading" *ngIf="isLoading()">
            <div class="mystical-spinner">
              <i class="fas fa-circle-notch spinning"></i>
            </div>
            Iniciando sesión...
          </span>
        </button>

        <div class="error-alert" *ngIf="loginError()">
          <i class="fas fa-exclamation-triangle mr-2"></i>
          {{ loginError() }}
        </div>
      </form>

      <div class="divider">
        <span class="divider-text">
          <i class="fas fa-grip-lines-vertical mr-2"></i>
          O continúa con
          <i class="fas fa-grip-lines-vertical ml-2"></i>
        </span>
      </div>

      <div class="social-login">
        <button
          class="social-btn google-btn mystical-social-btn"
          (click)="onSocialLogin('google')"
          [disabled]="isLoading()"
        >
          <i class="fab fa-google mr-3 social-icon"></i>
          <span class="hidden sm:inline">Continuar con Google</span>
          <span class="sm:hidden">Google</span>
        </button>

        <button
          class="social-btn facebook-btn mystical-social-btn"
          (click)="onSocialLogin('facebook')"
          [disabled]="isLoading()"
        >
          <i class="fab fa-facebook-f mr-3 social-icon"></i>
          <span class="hidden sm:inline">Continuar con Facebook</span>
          <span class="sm:hidden">Facebook</span>
        </button>
      </div>

      <div class="register-link">
        <span class="register-text">
          <i class="fas fa-user-plus mr-2"></i>
          ¿No tienes una cuenta?
        </span>
        <button
          class="register-btn mystical-register-btn group"
          (click)="onGoToRegister()"
        >
          <i class="fas fa-star-of-life mr-2"></i>
          Crear cuenta gratuita
          <i
            class="fas fa-arrow-right ml-2 transition-transform group-hover:translate-x-1"
          ></i>
        </button>
      </div>

      <div class="trust-indicators mystical-trust">
        <div class="trust-item">
          <i class="fas fa-shield-alt trust-icon"></i>
          <span>Seguro</span>
        </div>
        <div class="trust-item">
          <i class="fas fa-lock trust-icon"></i>
          <span>Encriptado</span>
        </div>
        <div class="trust-item">
          <i class="fas fa-user-secret trust-icon"></i>
          <span>Privado</span>
        </div>
      </div>
    </div>
  </div>
</div>
